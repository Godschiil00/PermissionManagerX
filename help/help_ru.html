<!DOCTYPE html>

<html>

<head>
    <title>Справка PMX</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        body {
            padding-left: 10px;
            padding-right: 10px;
            border: solid black;
            border-width: thin;
            border-radius: 10px;
            display: block;
            box-sizing: border-box;
            font-family: sans-serif;
            font-size: large;
        }

        @media only screen and (min-width: 800px) {
            body {
                margin-left: 200px;
                margin-right: 200px;
            }
        }

        li {
            margin-top: 1%;
            margin-bottom: 1%;
        }

        hr {
            width: 100%;
            text-align: centre;
            margin-top: 3%;
            margin-bottom: 3%;
            height: 0px;
            border-left-width: 0;
            border-right-width: 0;
            border-top: 1px solid black;
            border-bottom: 1px solid white;
        }

        .dim-hr {
            border-top: 1px solid rgba(0, 0, 0, 0.25);
            border-bottom: 1px solid rgba(255, 255, 255, 0.25);
        }

        img {
            width: 60%;
            height: auto;
            margin-top: 5px;
            margin-bottom: 5px;
            border-radius: 10px;
        }

        img.small {
            width: 30%;
            height: auto;
        }

        .no-underline {
            text-decoration: none;
        }

        .high-top {
            margin-top: 30px;
        }

        .high-bottom {
            margin-bottom: 3%;
        }

        .indented {
            margin-left: 40px;
        }
    </style>

    <script>
        if (window.Android) {
            document.write("<style> ");
            document.write("body { padding: 1%; margin: 1%; border: none; }");
            document.write("ul { padding-left: " + Android.getBulletPadding() + ";}");
            document.write("ol { padding-left: " + Android.getBulletPadding() + ";}");
            document.write("p { margin-top: " + Android.getParaMargin() + "; margin-bottom: " + Android.getParaMargin() + ";}");
            document.write("img { width: 100%; max-width: " + Android.getImgMaxWidth() + "; margin-top: " + Android.getParaMargin() + "; margin-bottom: " + Android.getParaMargin() + ";}");
            document.write("img.small { width: 100%; max-width: " + Android.getSmallImgMaxWidth() + ";}");
            document.write("a { color: " + Android.getLinkColor() + "; text-decoration: none; }");
            document.write(".high-top { margin-top: " + Android.getHighParaMargin() + ";}");
            document.write(".high-bottom { margin-bottom: " + Android.getHighParaMargin() + ";}");
            document.write(".indented { margin-left: " + Android.getBulletPadding() + ";}");
            document.write("</style>");
        }
    </script>
</head>

<body>
    <script type="text/javascript">
        if (window.Android) {
            document.body.style.backgroundColor = Android.getBgColor();
            document.body.style.color = Android.getTextColor();
        }
    </script>

    <h1>Permission Manager X</h1>

    <hr>

    <h2>Содержание</h2>

    <ul>
        <li><a href="#intro" class="no-underline"><b>Что такое PMX?</b></a></li>
        <li><a href="#perms_types" class="no-underline"><b>Разрешения манифеста и AppOps</b></a></li>
        <li><a href="#perm_ref" class="no-underline"><b>Целевые значения разрешений</b></a></li>
        <li><a href="#packages" class="no-underline"><b>Список приложений</b></a></li>
        <li><a href="#permissions" class="no-underline"><b>Список разрешений</b></a></li>
        <li><a href="#search" class="no-underline"><b>Поиск</b></a></li>
        <li><a href="#scheduled_checker" class="no-underline"><b>Проверка по расписанию</b></a></li>
        <li>
            <a href="#perm_watcher" class="no-underline"><b>Отслеживание разрешений</b></a>
            <ul>
                <li><a href="#perm_watcher_fails" class="no-underline"><b>Почему не удаётся запустить "Отслеживание разрешений" ?</b></a></li>
            </ul>
        </li>
        <li><a href="#wrun-integration" class="no-underline"><b>Интеграция с WhatsRunning</b></a></li>
        <li>
            <a href="#adb_help" class="no-underline"><b>Использование PMX с помощью ADB</b></a>
            <ul>
                <li><a href="#adb_help_11" class="no-underline"><b>Андроид 11+</b></a></li>
            </ul>
        </li>
        <li>
            <a href="#versions" class="no-underline"><b>Версии PMX</b></a>
            <ul>
                <li><a href="#paid_features" class="no-underline"><b>Платные функции</b></a></li>
            </ul>
        </li>
        <li><a href="#faq" class="no-underline"><b>Часто задаваемые вопросы (FAQ)</b></a></li>
        <ul>
            <li><a href="#faq36" class="no-underline">Зачем мне нужно использовать PMX?</a></li>
            <li><a href="#faq1" class="no-underline">Почему PMX требует root или ADB доступ?</a></li>
            <li><a href="#faq33" class="no-underline">Мое устройство без root. Как я могу использовать PMX?</a></li>
            <li><a href="#faq2" class="no-underline">Как PMX изменяет разрешения других приложений?</a></li>
            <li><a href="#faq37" class="no-underline">Я изменил разрешение, но это не работает. Почему?</a></li>
            <li><a href="#faq3" class="no-underline">Почему некоторые разрешения возвращаются к их старым состояниям вскоре после их изменения?</a></li>
            <li><a href="#faq34" class="no-underline">Разрешения остаются измененными после выключения ADB, отказа root или удаления PMX?</a></li>
            <li><a href="#faq4" class="no-underline">Что такое скрытые API в расширенных настройках?</a></li>
            <li><a href="#faq5" class="no-underline">Что мне следует выбрать для UID привилегированного демона в расширенных настройках? Система или ADB?</a></li>
            <li><a href="#faq6" class="no-underline">Почему в списке пакетов я не вижу приложение XYZ?</a></li>
            <li><a href="#faq7" class="no-underline">Почему я не вижу разрешения XYZ в пакете/приложении ABC?</a></li>
            <li><a href="#faq8" class="no-underline">Почему я не вижу AppOps XYZ в пакете/приложении ABC?</a></li>
            <li><a href="#faq9" class="no-underline">Что такое <i>недопустимые разрешения</i> в «Фильтрах исключений»?</a></li>
            <li><a href="#faq10" class="no-underline">Что такое <i>дополнительные AppOps</i> в «Фильтрах исключений»?</a></li>
            <li><a href="#faq11" class="no-underline">Какие существуют режимы AppOp и какие мне следует использовать?</a></li>
            <li><a href="#faq12" class="no-underline">В чем разница между режимами AppOp <i>Игнорировать</i> и <i>Запретить</i>?</a></li>
            <li><a href="#faq13" class="no-underline">Что делает разрешение READ_MEDIA_AUDIO?</a></li>
            <li><a href="#faq14" class="no-underline">Что делает разрешение WAKE_LOCK?</a></li>
            <li><a href="#faq15" class="no-underline">Почему я не могу изменить разрешение XYZ?</a></li>
            <li><a href="#faq16" class="no-underline">Как я могу изменить разрешение INTERNET?</a></li>
            <li><a href="#faq17" class="no-underline">Могу ли я изменить разрешения <i>Система-Фиксированный</i>?</a></li>
            <li><a href="#faq17" class="no-underline">Как я могу изменить разрешения уровня <i>Подпись</i>|<i>Привилегированный</i>?</a></li>
            <li><a href="#faq17" class="no-underline">Как я могу изменить разрешения фреймворк приложений?</a></li>
            <li><a href="#faq18" class="no-underline">Что такое <i>UID режим</i> в разрешениях AppOp?</a></li>
            <li><a href="#faq39" class="no-underline">Могу ли я управлять функцией «Удалить разрешения, если приложение не используется» с помощью PMX?</a></li>
            <li><a href="#faq31" class="no-underline">Почему я получаю много всплывающих окон <i>Потенциально неподдерживаемая прошивка</i>?</a></li>
            <li><a href="#faq19" class="no-underline">Что делает кнопка «Скрыть приложение из списка» (вызывается долгим нажатием)?</a></li>
            <li><a href="#faq20" class="no-underline">Почему сканирование приложений занимает так много времени?</a></li>
            <li><a href="#faq21" class="no-underline">Есть ли полный список всех разрешений с пояснениями?</a></li>
            <li><a href="#faq22" class="no-underline">Как использовать приложение в рабочем профиле/многопользовательской среде?</a></li>
            <li><a href="#faq23" class="no-underline">Как я могу перевести PMX на мой язык?</a></li>
            <li><a href="#faq30" class="no-underline">Вы собираетесь добавить поддержку Shizuku в PMX?</a></li>
            <li><a href="#faq24" class="no-underline">Сравнение PMX с XPrivacyLua. Могут ли они заменить друг друга?</a></li>
            <li><a href="#faq32" class="no-underline">Может ли PMX автоматически удалять разрешения когда приложение закрыто, как это делает Bouncer?</a></li>
            <li><a href="#faq35" class="no-underline">Могу ли я получать уведомления о установке нового приложения?</a></li>
            <li><a href="#faq38" class="no-underline">Когда установлено новое приложение, может ли PMX отключить его разрешения по умолчанию?</a></li>
            <li><a href="#faq25" class="no-underline">Почему PMX требует разрешение INTERNET?</a></li>
            <li><a href="#faq26" class="no-underline">Насколько PMX безопасен для конфиденциальности?</a></li>
            <li><a href="#faq27" class="no-underline">Шпионит ли PMX за мной, используя ADB по сети?</a></li>
            <li><a href="#faq28" class="no-underline">PMX злоупотребляет root правами, для сбора моих данных?</a></li>
            <li><a href="#faq29" class="no-underline">Я считаю, что PMX бесполезен. Зачем было создано это приложение?</a></li>
        </ul>
        <li><a href="#download" class="no-underline"><b>Загрузки / Скриншоты</b></a></li>
        <li><a href="#contact-us" class="no-underline"><b>Связаться с нами</b></a></li>
    </ul>

    <hr>

    <h2 id="intro">Что такое PMX?</h2>
    <p>Это приложение является расширенным диспетчером разрешений, которое позволяет легко настраивать и просматривать желаемые разрешения для установленных приложений,  а так же отслеживать любые нежелательные изменения. Давая контроль над вашим устройством, оно позволяет вам защитить вашу конфиденциальность и сэкономить ресурсы, такие как использование батареи.</p>
    <p>PMX предоставляет на одном экране всю разрозненную (или недоступную по другим причинам) информацию и элементы управления, связанные с разрешениями, так что вы можете просматривать и контролировать их комплексным и удобным способом.</p>
    <p>Используя PMX вы можете:</p>
    <ul>
        <li>Просматривать / предоставлять / отменять (отзывать) все <i>разрешения манифеста</i>, которые <b><i>возможно или невозможно</i></b> настроить с помощью настроек приложения. Список разрешений, которые нельзя настроить из графического интерфейса (GUI), очень длинный.</li>
        <li>Просматривать все <i>разрешения AppOp</i>, которые обычно не имеют графического интерфейса для настроек. Например изменение разрешений "Система-Фиксированный" возможно только при работе в варианте "Система". Например разрешения AppOp VIBRATE and READ_CLIPBOARD. Вы можете установить желаемый режим AppOp, например <b><i>Передний план</i></b>.</li>
        <li>Просматривать все <b><i>не изменяемые</i></b> разрешения, запрошенные приложением.</li>
        <li>Просматривать время последнего использования многих разрешений AppOp.</li>
        <li>Изменять разрешения уровня <b><i>Система-Фиксированный</i></b>, которые нельзя изменить никакими другими способами.</li>
        <li>Наблюдать в реальном времени за изменениями разрешений или выполнять проверки по расписанию.</li>
        <li>Сортировать приложения и разрешения по многим параметрам, включая дату и количество разрешений.</li>
        <li>Делать сложные поисковые запросы в приложениях и их разрешения.</li>
        <li>Размораживать/замораживать приложения.</li>
    </ul>
    <p>Ознакомьтесь с <a href="https://mirfatif.github.io/PermissionManagerX">README</a> на Github и подробным описанием приложения в <a href="https://play.google.com/store/apps/details?id=com.mirfatif.permissionmanagerx">Play Store</a>. Или попробуйте. По большей части это бесплатно.</p>

    <hr>

    <h2 id="perms_types">Что такое разрешения манифеста и AppOps?</h2>
    <p>Оба являются базовыми механизмами контроля разрешений в операционной системе Android.</p>
    <p>"Разрешения манифеста" называются так, потому что приложение должно запросить их в своем файле <a href="https://developer.android.com/guide/topics/manifest/manifest-intro#perms">AndroidManifest.xml</a>. Вы можете разрешить приложению использовать <i>камеру</i> или читать ваши <i>контакты</i>, верно? <a href="https://developer.android.com/reference/android/Manifest.permission#CAMERA">android.permission.CAMERA</a> и <a href="https://developer.android.com/reference/android/Manifest.permission#READ_CONTACTS">android.permission.READ_CONTACTS</a>:
оба этих разрешения являются разрешениями манифеста.</p>
    <p>Но что, если вы хотите разрешить приложению использовать <i>камеру</i> или читать ваши <i>контакты</i> только тогда, когда приложение используется на переднем плане?
 Или если вы хотите запретить приложению управлять <i>вибрацией</i> или читать <i>буфер обмена</i>? Это достигается через AppOp. Короче говоря, AppOps обеспечивает дополнительный и более детальный контроль над обычными разрешениями.</p>
    <p>Разрешения манифеста не всегда изменяются в зависимости от их <a href="https://developer.android.com/reference/android/R.attr#protectionLevel">уровня защиты</a> и привилегированного состояния приложения. Например:</p>
    <ul>
        <li>
            <p>Вы не можете отозвать разрешение <a href="https://developer.android.com/reference/android/Manifest.permission#INTERNET">android.permission.INTERNET</a>, потому что оно имеет уровень защиты <i>Нормальный</i>. Ни одно из разрешений <i>Internet</i> не имеет соответствующего разрешения AppOp.</p>
        </li>
        <li>
            <p><a href="https://developer.android.com/reference/android/Manifest.permission#VIBRATE">android.permission.VIBRATE</a> - это еще одно разрешение манифеста с уровнем защиты <i>Нормальный</i>. Но у него есть соответствующее разрешение AppOp, которое вы можете разрешить или запретить.</p>
        </li>
        <li>
            <p>«<i>android.permission.SET_TIME_ZONE</i>» это разрешение с уровнем защиты <i>Подпись</i>, поэтому оно не может быть предоставлено приложениям, установленным пользователем.</p>
        </li>
    </ul>
    <p>С каждым новым выпуском оба типа разрешений тесно интегрируются. Например, в последних выпусках Android приложения не могут использовать <i>микрофон</i> в фоновом режиме. Это достигается за счет использования разрешений манифеста и AppOp.</p>
    <p>PMX показывает полный список разрешений манифеста и AppOp, которые использует приложение, в виде простого списка. Так что вы можете знать и контролировать их так, как вы хотите.</p>

    <hr>

    <h2 id="perm_ref">Целевые значения разрешений</h2>
    <p>Предположим, вы потратили все воскресенье на то, чтобы настроить разрешения для более 200 установленных приложений. И:</p>
    <ul>
        <li>В следующем месяце вы обновили ваше устройство или установили новую прошивку.</li>
        <li>Или по какой-то причине вы удалили и переустановили несколько приложений.</li>
        <li>Или вы предоставили несколько разрешений по запросу приложений.</li>
    </ul>
    <p>Пройдете ли вы через эту возню еще раз?</p>
    <p>Вам это не требуется. Вы можете заставить PMX запоминать желаемые состояния разрешений. Задайте разрешение, установите его статус как <i>ЗЕЛЕНЫЙ</i>, готово. Понадобится всего несколько минут, чтобы просмотреть все установленные пакеты и выяснить, какие разрешения установлены неправильно, например. выполнив быстрый поиск: «<i>:КРАСНЫЙ|:ОРАНЖЕВЫЙ</i>» или «<i>!:ЗЕЛЕНЫЙ</i>». Смотрите <a href="#search">Поиск</a> для получения более подробной информации.</p>
    <p>Целевые значение можно удобно бэкапить и восстанавливать.</p>
    <p>Долгим нажатием на разрешение можно установить или очистить его целевое значение.</p>
    <p>Есть три целевых значения:</p>
    <ul>
        <li>
            <p>
                <font color="#FFC107"><b>Оранжевый</b></font> означает, что целевое значение разрешения не установлено.
            </p>
        </li>
        <li>
            <p>
                <font color="#90EE90"><b>Зелёный</b></font> означает, что текущее значение соответствует целевому.
            </p>
        </li>
        <li>
            <p>
                <font color="#FF0000"><b>Красный</b></font> означает, что текущее и целевое значения различаются.
            </p>
        </li>
    </ul>

    <hr>

    <h2 id="packages">Список приложений</h2>
    <img src="pkg.webp">
    <ul>
        <li>
            <p>Цветная полоска слева — <b>индикатор целевых значений</b></p>
        </li>
        <li>
            <p>Первая строка показывает <b>название</b> приложения</p>
        </li>
        <li>
            <p>Вторая строка показывает <b>имя пакета</b> и <b>UID</b></p>
        </li>
        <li>
            <p>Третья строка (необязательно) показывает состояние пакета: <b>критический</b> (фреймворк), <b>фреймворк</b> или <b>системное</b> приложение. Также, если приложение <b>заморожено</b>. Состояния <b>незамороженых</b> <b>пользовательских</b> приложений не отображаются.</p>
        </li>
        <li>
            <p>Последняя строка показывает <b>количество</b> видимых разрешений из общего манифеста и разрешений AppOps. Невидимые разрешения - это те, которые исключены в <i>Фильтре исключений</i>.</p>
            <p>При использовании быстрого сканирования эта строка показывает <b>UID</b> пакета.</p>
            <p>Если отсортировано по времени установки или обновления, в этой строке также справа отображается дата.</p>
        </li>
    </ul>

    <hr>

    <h2 id="permissions">Список разрешений</h2>
    <img src="perm_ru.webp">
    <ul>
        <li>
            <p>Цветная полоска слева — <b>индикатор целевых значений</b></p>
        </li>
        <li>
            <p>Первая строка показывает <b>имя разрешения</b></p>
        </li>
        <li>
            <p>Вторая строка показывает <a href="https://developer.android.com/reference/android/R.attr#protectionLevel">уровень защиты</a> разрешений: <b>нормальный</b>, <b>опасный</b>, <b>подпись</b>, <b>разработка</b>, <b>привилегированный</b>, <b>фиксированный</b>, <b>AppOps</b> или <b>неизвестно</b>. Также, если это AppOp <b>по пакету</b> или <b>по UID</b>. И если это <b>дополнительный</b> AppOp (никогда не исключается в настройках фильтра).</p>
        </li>
        <li>
            <p>Третья строка (в случае с AppOp) показывает <b>время последнего доступа</b></p>
        </li>
        <li>
            <p>Четвертая строка (в случае с AppOp) показывает целевое значение, если оно не совпадает с текущим.</p>
        </li>
        <li>
            <p>Если AppOp никогда не устанавливался/не настраивался, под текущим установленным значением отображается словосочетание <b><i>по умолчанию</i></b>.</p>
        </li>
    </ul>

    <hr>

    <h2 id="search">Поиск</h2>
    <img src="search_ru.webp">
    <p style="margin-top:10px">Обычно метка пакета, имя и UID ищутся из списка видимых.</p>
    <p>При <b>глубоком поиске</b> запрашиваются имена разрешений и другие параметры.</p>
    <p>Обратите внимание, что <i>фильтры исключения</i> работают также и при поиске.</p>
    <p>Вы можете использовать в поиске следующие специальные ключевые слова:</p>
    <ul>
        <li>
            <p>Состояние приложения:</p>
            <p><b><i>:Критический :Фреймворк :Система :Пользователь :Заморожено</i></b></p>
        </li>
        <li>
            <p>Целевые значения:</p>
            <p><b><i>:ОРАНЖЕВЫЙ :ЗЕЛЕНЫЙ :КРАСНЫЙ</i></b></p>
        </li>
        <li>
            <p><a href="https://developer.android.com/reference/android/R.attr#protectionLevel">Уровень защиты</a> разрешений:</p>
            <p><b><i>:Нормальный :Опасный :Подпись :Внутренний :Разработка :Привилегированный :Фиксированный :AppOps :Неизвестно</i></b></p>
        </li>
        <li>
            <p>По UID AppOps:</p>
            <p><b><i>:UID</i></b></p>
        </li>
        <li>
            <p>AppOps с последним временем доступа:</p>
            <p><b><i>:ВРЕМЯ</i></b></p>
        </li>
        <li>
            <p>Дополнительные AppOps (никогда не исключаются в настройках фильтра):</p>
            <p><b><i>:ДОПОЛНИТЕЛЬНЫЙ</i></b></p>
        </li>
        <li>
            <p>Операторы &amp; (И), | (ИЛИ) и (НЕ)! :</p>
            <p><b><i>Foo|Bar&amp;Baz</i></b></p>
            <p><b><i>Foo&amp;!Bar&amp!Baz</i></b></p>
        </li>
    </ul>
    <p>Платная версия также показывает подсказки поиска (если задано в предпочтениях) для облегчения процесса поиска.</p>

    <hr>

    <h2 id="scheduled_checker">Проверка по расписанию (только платная версия)</h2>
    <p>Вы хотите отслеживать любые нежелательные изменения разрешений во всех установленных приложениях? <i>Проверка по расписанию</i> может делать это для вас через регулярные интервалы (в минутах, часах или днях).</p>
    <p>Установите <a href="#perm_ref">целевое значение</a> <i>ЗЕЛЕНЫЙ</i>, остальное сделает PMX. Если обнаружено изменение какого-либо разрешения (с состоянием <i>КРАСНЫЙ</i>) или при обнаружении нового установленного приложения (с состоянием разрешений <i>ОРАНЖЕВЫЙ</i>), PMX напомнит вам, что что-то требует вашего внимания.</p>
    <p>Кроме того, если установлено в настройках, "Проверка по расписанию" может автоматически отозвать предоставленные разрешения, с информационным уведомлением.</p>

    <hr>

    <h2 id="perm_watcher">Отслеживание разрешений (только платная версия)</h2>
    <p>Некоторые приложения не работают без предоставления определенного разрешения. Но вы хотите предоставить разрешение только на время, когда вы используете приложение, и отключить/отозвать разрешение сразу же, как вы выйдете из приложения.</p>
    <p>Именно это и делает служба "Отслеживание разрешений". Как только вы выходите из приложения или по прошествии установленного времени, эта служба самостоятельно отменяет разрешения приложения (манифест и AppOp) или просит вас сделать это, в зависимости от сделанных вами настроек.</p>
    <img class="small" src="perm_watcher.gif">
    <p>"Отслеживание разрешений" также уведомляет вас о необходимости настроить разрешения для вновь установленных приложений (только в профиле основного пользователя / владельца).</p>
    <p><b>Примечание:</b></p>
    <ul>
        <li>
            <p>Отменяются только разрешения с «<i>КРАСНЫМ</i>» целевым значением, но не разрешения с состоянием «<i>ОРАНЖЕВЫЙ</i>». Таким образом, сначала вам <b>следует</b> установить целевые значения. Смотрите <a href="#perm_ref">Целевые значения разрешений</a>.</p>
        </li>
        <li>
            <p>Отслеживаются разрешения манифеста только с <a href="https://developer.android.com/reference/android/R.attr#protectionLevel">уровнем защиты</a> <i>опасный</i>. Они обычно меняются. Разрешения с уровнем защиты <i>Подпись</i> | <i>Разработка</i> или разрешения с установленным флагом <i>Система-Фиксированный</i> не отслеживаются, хотя их можно изменить.</p>
        </li>
        <li>
            <p>PMX отслеживает только <i>пользовательские приложения</i> или обычные <i>системные приложения</i>, но не приложения уровня <i>фреймворк</i>. Их изменение может привести к "окирпичиванию" устройства.</p>
        </li>
        <li>
            <p>На некоторых устройствах "Отслеживание разрешений" может работать ненадежно для приложений второго пользователя / профиля. Рекомендуется использовать его в сочетании с функцией "Проверка по расписанию".</p>
        </li>
    </ul>
    <p id="perm_watcher_fails"><b>Почему не удаётся запустить "Отслеживание разрешений" ?</b></p>
    <p>Вы используете ADB? Некоторые OEM-производители удаляют разрешение <i>OBSERVE_GRANT_REVOKE_PERMISSIONS</i> или <i>SET_ACTIVITY_WATCHER</i> из пакета <i>Shell</i>. Если это ваш случай, то мы сожалеем. Это то, что мы не можем устранить. На таких устройствах "Отслеживание разрешений" может работать только с root. Пожалуйста, прочитайте примечание, приведенное в начале <a href="#adb_help">Использование PMX с помощью ADB</a>.</p>

    <hr>

    <h2 id="wrun-integration">Интеграция с WhatsRunning</h2>
    <p>PMX интегрирован с <a href="https://github.com/mirfatif/WhatsRunning">WhatsRunning</a>, так что вы можете открывать одно приложение из другого.</p>
    <img class="small" src="wrun_integration1.jpg" />
    <img class="small" src="wrun_integration2.webp" />
    <p>Таким образом, из PMX вы можете переключиться на WhatsRunning, чтобы узнать, работает ли еще приложение с ограниченными разрешениями. Если да, то в каком состоянии он находится и сколько ресурсов использует.</p>
    <p>Точно так же из WhatsRunning вы можете переключиться на PMX, чтобы узнать, какие разрешения предоставлены работающему (или неработающему) приложению.</p>
    <p>Это особенно полезно при анализе эффекта таких разрешений, как <code>RUN_IN_BACKGROUND</code>.</p>

    <hr>

    <h2 id="adb_help">Использование PMX с помощью ADB</h2>

    <p><b><i>Примечание:</i></b></p>
    <p>Режим ADB не такой мощный, как root. В нашем случае, например, PMX потребуется больше времени для построения списка приложений, когда он работает с ADB.</p>
    <p>Примечание: На некоторых OEM прошивках функциональность ADB может быть нарушена из-за отсутствия разрешений или других ограничений. Вы можете проверить текущий статус того, что может делать ADB, нажав пункт меню <b>О приложении</b> -> <b>Привилегии</b>:</p>
    <img class="small" src="privs.webp" />
    <p>К сожалению, мы не можем ничего сделать с этим. Поэтому некоторые функции доступны только на устройствах с root.</p>
    <p>Однако некоторые OEM-производители добавляют дополнительные настройки для управления привилегиями ADB. Например, вам нужно снять флажок "<i>Отключить Мониторинг разрешений</i>" на телефонах Oppo и "<i>Разрешить предоставление разрешений</i>" в настройках безопасности на телефонах Xiaomi. Смотрите <a href="https://stackoverflow.com/q/52079343/9165920">этот вопрос</a> для более детальной информации.</p>
    <p>Следующие инструкции относятся к прошивкам, близким к AOSP. Кастомные прошивки могут иметь другие или отсутствующие настройки.</p>

    <hr class="dim-hr">

    <p class="high-top">Итак, мы начинаем с того, как заставить WhatsRunning работать с ADB.</p>
    <p>Если ваше устройство без root, вам необходимо включить <b>ADB по сети</b> перед использованием PMX. В некоторых устройствах есть пункты <b><i>ADB по сети</i></b> или <b><i>Отладка по Wi-Fi</i></b>, которые доступны в настройке <b>Для разработчиков</b>:</p>
    <img class="small" src="adb_in_dev_options_1.webp" />
    <p>В иных случаях вам необходимо подключать устройство к USB-хосту, например ПК, <b><i>один раз после каждой перезагрузки</i></b>.</p>
    <p><b><u>Показать экран настроек разработчика:</u></b></p>
    <ol>
        <li>
            <p>Перейдите в <b>Настройки</b> -> <b>О телефоне</b> и нажмите <b>Номер сборки</b> 5-7 раз.</p>
            <p>Пункт <b>Для разработчиков</b> должен появиться непосредственно в разделе <b>Настройки</b> или в разделе <b>Настройки</b> -> <b>Система</b>, внизу.</p>
        </li>
    </ol>
    <p><b><u>Включение беспроводной отладки:</u></b></p>
    <ol start="2">
        <li>
            <p>Включите <b>Отладку по USB</b> в настройках <b>Для разработчиков</b>.</p>
        </li>
        <li>
            <p>Подключите телефон к ПК с помощью кабеля USB.</p>
        </li>
        <li>
            <p>На ПК откройте окно терминала (или командную строку в Windows) и выполните:</p>
            <p><code>adb tcpip 5555</code></p>
            <p>На вашем ПК должен быть доступен исполняемый файл <code>adb</code>, чтобы выполнить указанную выше команду. Если его нет, то вот <a href="https://developer.android.com/studio/releases/platform-tools#downloads">ссылка для загрузки</a>.</p>
        </li>
    </ol>

    <p><b><u>Дополнительные шаги для верификации:</u></b></p>

    <ol start="5">
        <li>
            <p>Отсоедините USB-кабель от устройства.</p>
        </li>
        <li>
            <p>Подключите ваше устройство и ПК к общей сети Wi-Fi.</p>
        </li>
        <li>
            <p>Получите IP адрес устройства (обычно в настройках WiFi или в <b>Настройки</b> -> <b>О</b>), это <code>192. 68.1.1</code>.</p>
        </li>
        <li>
            <p>Выполните на ПК:</p>
            <p><code>adb connect 192.168.1.1</code></p>
        </li>
        <li>
            <p>Выполните еще раз:</p>
            <p><code>adb shell id -u</code></p>
            <p>Терминал должен напечатать <code>2000</code> (или <code>0</code>).</p>
        </li>
    </ol>

    <p>Оставьте отладку <b>Отладку по USB</b> включенной. Запустите PMX и проверьте <b><i>ADB Shell</i></b> в выдвижном меню. Он должен подключиться к ADB. <i>Разрешите отладку по USB</i> при запросе:</p>
    <img class="small" src="adb_in_dev_options_2.webp" />
    <p>Для получения дополнительной информации смотрите <a href="https://developer.android.com/studio/command-line/adb#wireless">это</a>.</p>

    <hr class="dim-hr" />

    <h3 id="adb_help_11">Андроид 11+</h3>
    <p>На Android 11 и выше можно включить беспроводную отладку/отладку по Wi-Fi без подключения к компьютеру.</p>

    <ol>
        <li>
            <p>Установите <a href="https://github.com/termux/termux-app">Termux</a> и предоставьте разрешение на доступ к хранилищу.</p>
        </li>
        <li>
            <p>Скачайте бинарный файл <code>adb</code> для вашего устройства, например <a href="https://github.com/Magisk-Modules-Repo/adb-ndk/blob/master/bin/adb.bin">отсюда</a>, или с другого удобного вам источника. Допустим, он будет загружен в каталог <i>Download</i> по умолчанию (<code>/sdcard/Download/</code>).</p>
        </li>
        <li>
            <p>Подключите ваше устройство к сети Wi-Fi.</p>
        </li>
        <li>
            <p>Откройте Termux и настройку "Для разработчиков" в режиме <a href="https://developer.android.com/guide/topics/ui/multi-window#overview">Разделенный экран</a>.</p>
        </li>
        <li>
            <p>Включите <b><i>Беспроводную отладку/отладку по Wi-Fi</i></b> и отключите <b><i>Время ожидания авторизации ADB</i></b>.</p>
            <img class="small" src="adb_in_dev_options_11_1.webp" />
        </li>
        <li>
            <p>Откройте <b><i>Беспроводную отладку/отладку по Wi-Fi</i></b> и нажмите на <i>"Соединить устройство с кодом сопряжения"</i>. Обратите внимание на <b><i>номер порта</i></b> и <b><i>код подключения</i></b>.</p>
        </li>
        <li>
            <p>Переключитесь на Termux и выполните:</p>
            <p><code>cp /sdcard/Download/adb.bin ./adb</code>&emsp;&emsp;(скопировать файл)<br /><code>
chmod a+x adb</code>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;(сделать его исполняемым)
<br /><code>./adb pair 127.0.0.1:41719</code>&emsp;&emsp;(ввести ваш номер порта)</p>
        </li>
        <li>
            <p>Введите код сопряжения.</p>
            <img class="small" src="adb_in_dev_options_11_2.webp" />
        </li>
        <li>
            <p>Выполните (этот шаг может быть ненужным):</p>
            <p><code>./adb connect 127.0.0.1:40901</code>&emsp;&emsp;&emsp;&emsp;(Заменить номер порта)</p>
            <img class="small" src="adb_in_dev_options_11_3.webp" />
        </li>
        <li>
            <p>Выполните:</p>
            <p><code>./adb tcpip 5555<br/>./adb disconnect<br/>./adb kill-server</code></p>
            <img class="small" src="adb_in_dev_options_11_4.webp" />
        </li>
    </ol>

    <p>Теперь вы можете оставить включенной <b><i> Беспроводную отладку </i></b>. Или выключите ее и включите <b><i>отладку по USB</i></b>. Откройте приложение PMX и начните использовать.</p>

    <p>После каждой перезагрузки вам нужно повторить последние два шага(9 и 10).</p>

    <p>Для получения дополнительной информации смотрите <a href="https://developer.android.com/studio/command-line/adb#connect-to-a-device-over-wi-fi-android-11+">это</a> и <a href="https://android.stackexchange.com/a/216474">это</a>.</p>

    <hr>

    <h2 id="versions">Версии PMX</h2>
    <p>PMX доступно в двух вариантах: <b>Платная</b> и <b>Бесплатная</b> версии.</p>
    <p>Платная версия доступна в двух вариантах: <b>Play Маркет</b> и <b>Pro</b> версии.</p>
    <p>Платная версия публикуется в <b>Play Маркет</b> и <b>Github</b>. Бесплатная версия публикуется на <b>GitHub</b>, <b>F-Droid</b> и некоторых других источниках. Последние APK для обеих версий также размещены в <a href="https://t.me/mirfatifApps">Telegram канале</a>.</p>
    <p>В Play Маркете нет бесплатной версии.</p>
    <p>Вы можете установить Pro версию вместе с любой другой версией на вашем устройстве. Но никакая из двух других версий не может быть установлена вместе (из-за того же имени пакета). Одну из них нужно удалить перед установкой другой.</p>
    <p>Бесплатная версия, которая доступна в <a href="https://android.izzysoft.de/repo/apk/com.mirfatif.permissionmanagerx">IzzySoft</a> такая же, как и версии, публикуемые на <a href="https://github.com/mirfatif/PermissionManagerX/releases/latest">Github</a> и в группе Telegram. Но версия, которая доступна в официальном <a href="https://f-droid.org/packages/com.mirfatif.permissionmanagerx">F-Droid репозитории</a> имеет другую подпись. Таким образом, она не может быть установлена поверх первых двух, и наоборот.</p>
    <p>В период между основными выпусками некоторые (<b>beta</b>) версии также публикуются только в Telegram группе.</p>
    <p>Вы можете обновить <b>платную версию</b> до последней стабильной версии либо из Play Маркета, либо установив APK файл, размещенный в Telegram группе с <b>-ps</b> в имени файла. Иногда команде Google требуется до 24 часов до того, как обновление появится в Play Маркет.</p>
    <p>Вы можете обновить <b>Pro</b> версию до последней, установив из Telegram канала или из Github APK файл, с <b>-pro</b> в имени файла.</p>
    <p>Вы можете обновить <b>бесплатную версию</b> до последней стабильной версии либо с GitHub (или F-Droid; откуда бы вы его не установили), либо установив APK файл, размещенный в Telegram группе без <b>-ps</b> / <b>-pro</b> в имени файла.</p>
    <p>Платная версия, установленная путем простого скачивания файла <b>-ps.apk</b> or <b>-pro.apk</b> из группы Telegram, не будет работать, если вы не приобрели приложение.</p>
    <p>Когда новая версия станет доступной для обновления, приложение PMX при запуске покажет уведомление о загрузке обновления (при условии, что вы включили проверку обновлений в настройках). Приложение Play Store также показывает уведомления об обновлении в соответствии с вашими настройками.</p>
    <p>Если вы уже скачали и установили последнюю версию из Telegram группы, вы не получите уведомление об обновлении в приложении. В Play Маркете так-же не будут отображаться доступные обновления.</p>
    <p>Бесплатная версия является <b>свободной и с открытым исходным кодом</b>. Исходный код доступен на GitHub. Каждый может просмотреть и загрузить код и собрать приложение. Мы уважаем конфиденциальность пользователей, так что ничего не скрыто, нет бэкдоров, трекеров, рекламы. И мы не собираем данные и информацию пользователей с помощью любых видов аналитики, профилирования или с целью продажи. Даже отправка отчёта о сбое по усмотрению пользователя, хотя и настоятельно рекомендуется.</p>
    <p>Вы можете приобрести платную версию для пожертвования и/или использования платных функций. Другие способы сделать пожертвование доступны в бесплатной и Pro версии в разделе <b>Пожертвовать</b>. Разработчики могут также <b>поддержать разработку приложения</b>, внося свой вклад в исходный код, исправляя ошибки. Пользователи могут помочь нам улучшить приложение, тестируя бета-версии, сообщая о любых падениях или сбоях, предлагая улучшения и новые функции или переводя приложения на их родной язык.</p>

    <h3 id="paid_features">Платные функции</h3>
    <p>Платная версия включает в себя все, что есть в бесплатной версии, а также следующие <b> дополнительные функции</b>, которые также перечислены в разделе "<b>О приложении</b>" и в описании Play Store:</p>
    <ul>
        <li>Сортировка приложений и разрешений по различным параметрам</li>
        <li>Проверка разрешений по расписанию и уведомление в случае их изменений</li>
        <li>Отслеживание и отмена изменений разрешений</li>
        <li>Автоматическая отмена разрешений с КРАСНЫМИ состояниями</li>
        <li>Внесение изменений в критически важные приложения и разрешения</li>
        <li>Поддержка нескольких пользователей/рабочего профиля</li>
        <li>Автоматический бэкап при изменениях</li>
        <li>Подсказки поиска</li>
        <li>Настройки темы</li>
        <li>Просмотр сводки разрешений (в ближайшее время)</li>
        <li>Пакетные операции (профили) (в ближайшее время)</li>
    </ul>

    <hr>

    <h2 id="faq">Часто задаваемые вопросы (FAQ)</h2>

    <hr class="dim-hr" />

    <p id="faq36" class="high-bottom"><b>Зачем мне нужно использовать PMX?</b></p>
    <p>Потому что:</p>
    <ul>
        <li>PMX предоставляет на одном экране всю разрозненную (или недоступную по другим причинам) <b>информацию</b> и <b>элементы управления</b>, связанные с разрешениями, так что вы можете просматривать и контролировать их комплексным и удобным способом.</li>
        <li>В стандартной версии Android нет официального инструмента для изменения <b>AppOps</b>. Только подмножество <b>разрешений манифеста</b> доступны пользователю в настройках разрешений. PMX показывает все разрешения в "сыром" виде. Смотрите <a href="#perms_types">разрешения манифеста и AppOps</a>.</li>
        <li>PMX позволяет вам отслеживать <b>нежелательные изменения</b> в разрешениях.</li>
        <li>Предоставляя контроль над вашим устройством, PMX позволяет вам <b>экономить ресурсы устройства</b>, такие как батарея и пропускная способность сети, а также <b>защищать вашу конфиденциальность</b>. Вы не полностью оставлены на милость разработчиков приложений и прошивки. Прочитайте эту <a href="https://www.buzzfeednews.com/article/nicolenguyen/how-apps-take-your-data-and-sell-it-without-you-even">статью</a>, чтобы понять идею.</li>
        <li>PMX может <b>отслеживать изменение разрешений</b> в реальном времени, автоматически отменяя их, когда вы прекращаете использовать приложение. Или он может выполнить <b>проверки по расписанию</b> разрешений. Так что вам не нужно что-то запоминать.</li>
        <li>PMX упрощает <b>бекап и восстановление</b> состояния разрешений установленных приложений, чтобы вам не приходилось настраивать разрешения приложения снова и снова.</li>
    </ul>
    <p>Пожалуйста, также посмотрите <a href="#intro">Что такое PMX?</a></p>

    <hr class="dim-hr" />

    <p id="faq1" class="high-bottom"><b>Почему PMX требует root или ADB доступ?</b></p>
    <p>Android не позволяет обычному пользовательскому приложению изменять разрешения манифеста или AppOp других приложений, и даже свои собственные. Без root или ADB возможно только чтение AppOps, при условии, что скрытые API не запрещены на вашем устройстве, что <a href="https://developer.android.com/distribute/best-practices/develop/restrictions-non-sdk-interfaces">очень маловероятно</a> на Android 9+.</p>
    <p>Поэтому мы запускаем отдельный демон с высокими привилегиями для того, чтобы обойти ограничения.</p>
    <p>По умолчанию, фоновый процесс (демон) запускается с ADB UID (<code>2000</code>) или (если есть root) системным UID (<code>1000</code>). На устройствах с ROOT UID можно изменить в <b><i>Дополнительных настройках</i></b>.</p>

    <hr class="dim-hr" />

    <p id="faq33" class="high-bottom"><b>Мое устройство без root. Как я могу использовать PMX?</b></p>
    <p><a href="#adb_help">Используйте PMX с ADB</a>. Пожалуйста, прочитайте примечание в начале страницы. На некоторых устройствах могут быть некоторые ограничения.</p>

    <hr class="dim-hr" />

    <p id="faq2" class="high-bottom"><b>Как PMX изменяет разрешения других приложений?</b></p>
    <p>PMX не может и не предоставляет и не отменяет разрешения других приложений. Фактически, ни одно стороннее приложение не имеет права сделать это. Это делает ОС Android, которая контролирует разрешения приложений. PMX просто отправляет запрос в платформу Android на изменение состояния разрешения. Теперь все зависит от ОС Android, насколько она выполнит наш запрос. Не все разрешения изменяются. И если вы не можете изменить состояние разрешения используя PMX, то вы не сможете изменить его другим способом.</p>

    <hr class="dim-hr" />

    <p id="faq37" class="high-bottom"><b>Я изменил разрешение, но это не работает. Почему?</b></p>
    <p>Если после успешного изменения разрешения вы не получаете желаемых результатов, виновата операционная система Android. Пожалуйста, посмотрите <a href="#faq2">Как PMX изменяет разрешения других приложений?</a></p>

    <hr class="dim-hr" />

    <p id="faq3" class="high-bottom"><b>Почему некоторые разрешения возвращаются к их старым состояниям вскоре после их изменения?</b></p>
    <p>Обычно они являются разрешениями AppOp. Некоторые AppOps используются только для совместимости (например, LEGACY_STORAGE) и на самом деле они ничего не контролируют. Если мы исследуем их основную работу, выяснится, что предоставление/отмена таких разрешений не имеет смысла.</p>
    <p>Некоторые разрешения не могут быть изменены, если приложение ориентируется на старую версию Android. Также некоторые OEM прошивки ведут себя странно, когда дело доходит до AppOps. Мы не знаем, какие именно изменения ваш OEM-производитель внес в стандартный код AOSP. Вот почему есть заявление на Github и в Play Маркет: <i>Приложение протестировано на стоковом Android 7-11. Некоторые прошивки с большим количеством настроек могут вести себя непредсказуемо."</i></p>
    <p>На самом деле, если мы исследуем каждое приложение и разрешение по отдельности, то мы получим еще много объяснений (что звучит непрактично). Поскольку мы знаем, что PMX не изменяет разрешения других приложений самостоятельно, поэтому даже если по какой-то неизвестной причине Android не изменяет разрешение или немедленно возвращает его обратно, мы никак не можем заставить операционную систему сделать это. Это ограничение Android. Скорее всего, я должен сказать, что именно так работает Android.</p>
    <p>Связано: <a href="#faq11">Что такое различные режимы AppOp и какие я должен использовать?</a></p>

    <hr class="dim-hr" />

    <p id="faq34" class="high-bottom"><b>Разрешения остаются измененными после выключения ADB, отказа root или удаления PMX?</b></p>
    <p>PMX не может и не предоставляет и не отменяет разрешения других приложений. Фактически, ни одно стороннее приложение не имеет права сделать это. Это делает ОС Android, которая контролирует разрешения приложений. PMX просто отправляет запрос в платформу Android на изменение состояния разрешения.</p>
    <p>Таким образом, после изменения разрешения не имеет значения, удаляете ли вы PMX или отказываетесь от его привилегий. Разрешение останется в любом состоянии, если оно снова не будет изменено вами или операционной системой.</p>

    <hr class="dim-hr" />

    <p id="faq4" class="high-bottom"><b>Что такое скрытые API в расширенных настройках?</b></p>
    <p>Основной функционал PMX вращается вокруг <b>скрытых API</b>. Это возможности, необходимые для выполнения задач (например, предоставления/отзыва разрешений), которые могут выполняться только привилегированными системными приложениями. Таким образом, эти возможности недоступны для обычных пользовательских приложений. Но PMX использует эти возможности с помощью root или ADB. Если установлен флажок <b><i>«Использовать скрытые API»</i></b>, приложение пытается использовать некоторые из этих возможностей без помощи root или ADB. Но вряд ли это сработает на Android 9+, поэтому флажок не установлен автоматически. Обычно пользователь не должен беспокоиться об этом.</p>
    <p>Если вас интересуют основные подробности, прочтите <a href="https://developer.android.com/distribute/best-practices/develop/restrictions-non-sdk-interfaces">это</a>.</p>

    <hr class="dim-hr" />

    <p id="faq5" class="high-bottom"><b>Что мне следует выбрать для UID привилегированного демона в расширенных настройках? Система или ADB?</b></p>
    <p>Это имеет значение только в том случае, если вы используете root или ADBD на вашем устройстве работает с root (что не относится к конечным пользовательским устройствам).</p>
    <p>Предпочтительнее использовать вариант <b>Система</b> (UID 1000), поскольку он предоставляет больше привилегий, чем <b>ADB</b> (UID 2000). Например изменение разрешений "Система-Фиксированный" возможно только при работе в варианте "Система". .</p>

    <hr class="dim-hr" />

    <p id="faq6" class="high-bottom"><b>Почему в списке пакетов я не вижу приложение XYZ?</b></p>
    <p>Пожалуйста, проверьте <i>Фильтры исключений</i>. По умолчанию практически все стандартные Android приложения исключены. Вы можете исключить/включить любой пакет, который хотите из/в списке видимых.</p>

    <hr class="dim-hr" />

    <p id="faq7" class="high-bottom"><b>Почему я не вижу разрешения XYZ в пакете/приложении ABC?</b></p>
    <p>Пожалуйста, проверьте <i>Фильтры исключений</i>. Разрешения, которые не могут быть изменены, исключаются из списка видимых по умолчанию.</p>

    <hr class="dim-hr" />

    <p id="faq8" class="high-bottom"><b>Почему я не вижу AppOps XYZ в пакете/приложении ABC?</b></p>
    <p>Установите флажок <i>Фильтры исключения</i>, если XYZ AppOp исключен из списка видимых. Или же пакет ABC может не использовать операцию XYZ. Вам не нужно беспокоиться об этом.</p>
    <p>Но если вы хотите видеть XYZ AppOp всех приложений, перейдите в <b>Фильтры исключения </b> -> <b>Дополнительные AppOps, никогда не исключаемые</b> и отметьте XYZ AppOp в списке.</p>
    <p>Например, если ввести <i>_CLIPBOARD</i> в поле поиска (с установленным флажком <i>Глубокий поиск</i>), то вы получите все приложения, которые использовали (или пытались использовать) разрешение <i>READ_CLIPBOARD</i> или <i>WRITE_CLIPBOARD</i>. Также отображается метка времени (но не для всех приложений).</p>
    <p>Поэтому, если интересующего вас приложения нет в результатах поиска, отметьте оба AppOps в списке <i>Фильтров исключения</i>, упомянутом выше.</p>

    <hr class="dim-hr" />

    <p id="faq9" class="high-bottom"><b>Что такое <i>недопустимые разрешения</i> в «Фильтрах исключений»?</b></p>
    <p>Если приложение запрашивает разрешение манифеста, но оно не объявлено (предоставлено) платформой Android или любым из установленных пакетов, это недопустимое разрешение. Например, "<i>com.android.vending.BILLING</i>" является недопустимым разрешением, если приложение Play Store не установлено на вашем устройстве.</p>

    <hr class="dim-hr" />

    <p id="faq10" class="high-bottom"><b>Что такое <i>дополнительные AppOps</i> в «Фильтрах исключений»?</b></p>
    <p>Не все AppOps используются для всех установленных приложений. Но вы можете принудительно применить AppOp к любому приложению. Выбранные дополнительные AppOps отображаются в списках разрешений всех приложений, и вы можете использовать их при настройке.</p>

    <hr class="dim-hr" />

    <p id="faq11" class="high-bottom"><b>Какие существуют режимы AppOp и какие мне следует использовать?</b></p>
    <p>Обычно вам следует использовать варианты <i>Разрешить</i> или <i>Игнорировать</i>. Или же вы можете разрешить операцию только тогда, когда приложение находится на <i>переднем плане</i> (только на андроид Pie +). <i>Запретить</i> —это интенсивная версия <i>Игнорировать</i>, которая может привести к сбою запрашивающего приложения. <i>По умолчанию</i> — это поведение системы по умолчанию, которое отличается для разных AppOps.</p>
    <p>Пожалуйста, обратите внимание, что не каждый режим AppOp может быть установлен для каждого приложении. Например, в последних выпусках Android CAMERA и MICROPHONEмогут использоваться пользовательскими приложениями только на переднем плане (даже если установлен режим <i>Разрешить</i>). Точно так же некоторые AppOps никогда не могут быть установлены в режим <i>Передний план</i>.</p>
    <p>Связано: <a href="#faq3">Почему некоторые разрешения возвращаются к их старым состояниям вскоре после их изменения?</a></p>
    <p>Официальная документация: <a href="https://developer.android.com/reference/android/app/AppOpsManager#access-control">AppOpsManager</a>.</p>

    <hr class="dim-hr" />

    <p id="faq12" class="high-bottom"><b>В чем разница между режимами AppOp <i>Игнорировать</i> и <i>Запретить</i>?</b></p>
    <p><a href="https://developer.android.com/reference/android/app/AppOpsManager#MODE_IGNORED">Игнорировать</a> автоматически завершается ошибкой, в то время как <a href="https://developer.android.com/reference/android/app/AppOpsManager#MODE_ERRORED">Запретить</a> возвращает приложению ошибку, которую приложение может не ожидать и может дать сбой. Обычно вы должны использовать <b>Игнорировать</b>.</p>

    <hr class="dim-hr" />

    <p id="faq13" class="high-bottom"><b>Что делает разрешение READ_MEDIA_AUDIO?</b></p>
    <p>READ_MEDIA_ [AUDIO | VIDEO | IMAGES] - недавнее дополнение к списку AppOps, добавленное в Android 10 (IIRC) как часть реализации Android <i>Scoped Storage</i>. В исходном коде <a href="https://cs.android.com/android/platform/superproject/+/android-11.0.0_r1:frameworks/base/core/java/android/app/AppOpsManager.java;l=1065">указано</a>:<i>чтение носителя аудио типа </i>. Проще говоря, оно контролирует доступ приложений (которые используют <a href="https://developer.android.com/training/data-storage/shared/media">MediaStore</a>) к аудиофайлам во внешнем общем хранилище.</p>

    <hr class="dim-hr" />

    <p id="faq14" class="high-bottom"><b>Что делает разрешение WAKE_LOCK?</b></p>
    <p>Приложения удерживают wakelock, чтобы устройство не спало, то есть не переходило в <a href="https://developer.android.com/training/monitoring-device-state/doze-standby#understand_doze">режим сна (Doze)</a>.</p>

    <hr class="dim-hr" />

    <p id="faq15" class="high-bottom"><b>Почему я не могу изменить разрешение XYZ?</b></p>
    <p> Можно изменять разрешения манифеста только с <a href="https://developer.android.com/reference/android/R.attr#protectionLevel">уровнем защиты</a> <i>опасный</i> (и некоторыми другими). Можно изменять только AppOps, которые не зависят от некоторых других AppOp. Так работает Android, мы не можем изменить его поведение. Смотрите <a href="#perms_types">разрешения манифеста и AppOps</a>.</p>
    <p>Кроме того, PMX защищает некоторые критически важные фреймворк приложения и разрешения, их изменение может привести к "окирпичиванию" устройства. Смотрите <a href="#faq17">связанный вопрос</a>.</p>

    <hr class="dim-hr" />

    <p id="faq16" class="high-bottom"><b>Как я могу изменить разрешение INTERNET?</b></p>
    <p>Android не позволяет изменять все разрешения, например, с уровнем защиты <b>Нормальный</b> (например, ИНТЕРНЕТ) или с флагом <b>Фиксированный</b> или уровнем защиты <b>Подпись</b> (обычно системные и фреймворк приложения). Смотрите <a href="#perms_types">разрешения манифеста и AppOps</a>.</p>

    <hr class="dim-hr" />

    <p id="faq17" class="high-bottom"><b>Как я могу изменить разрешения <i>System-Fixed</i>, <i>Подпись</i> | <i>Привилегированное</i> или разрешения фреймворк приложений?</b></p>
    <p>В платной версии вы можете «<b>Разрешить критические изменения</b>» в <b>Расширенных настройках</b>, чтобы вносить изменения в разрешения с пометкой <i>Система-Фиксированный</i>, с уровнем защиты<i>Подпись</i>|<i>Привилегированный</i> или фреймворк приложения. Но не рекомендуется "играть" с системными или фреймворк приложениями. Вы можете "окирпичить" устройство.</p>

    <hr class="dim-hr" />

    <p id="faq18" class="high-bottom"><b>Что такое <i>UID режим</i> в разрешениях AppOp?</b></p>
    <p>Это режим разрешения AppOp, который указывает, что изменение этого AppOp также повлияет на другие приложения (с тем же UID), если они установлены. Смотрите <a href="https://developer.android.com/guide/topics/manifest/manifest-element#uid">sharedUserId</a>.</p>

    <hr class="dim-hr" />

    <p id="faq39" class="high-bottom"><b>Могу ли я управлять функцией «Удалить разрешения, если приложение не используется» с помощью PMX?</b></p>
    <p>Да.</p>
    <ul>
        <li>Перейдите в <i>Фильтры исключения</i> -> <i>Список дополнительных AppOps</i> и отметьте "<i>AUTO_REVOKE_PERMISSIONS_IF_UNUSED</i>".</li>
        <li>Вернувшись на основной экран, наберите "<i>AUTO_REVOKE_PERMISSIONS_IF_UNUSED</i>" вверху, в строке поиска.</li>
        <li>Установите режим <i>Разрешить</i> или <i>Игнорировать</i> для требуемых приложений.</li>
    </ul>

    <hr class="dim-hr" />

    <p id="faq31" class="high-bottom"><b>Почему я получаю много всплывающих окон <i>Потенциально неподдерживаемая прошивка</i>?</b></p>
    <p>OEM-производители вносят огромные изменения в стандартный код AOSP (разработанный Google). Таким образом, AppOps на некоторых кастомных или стоковых прошивках возвращает неожиданные результаты, которые PMX не может понять. Вы можете игнорировать эти всплывающие окна, но это означает, что функциональность несколько ограничена.</p>

    <hr class="dim-hr" />

    <p id="faq19" class="high-bottom"><b>Что делает кнопка «Скрыть приложение из списка» (вызывается долгим нажатием)?</b></p>
    <p>«Исключить» просто скрывает разрешение из списка видимых. Если вы не хотите изменять разрешение для любого приложения, вы можете просто «Исключить» его. И это разрешение не появится ни для одного приложения. Чтобы снова отобразить его, перейдите в <b><i>Фильтры исключения</i></b> в настройках.</p>
    <p>Точно так же вы можете исключить приложение из списка видимых, если вас не беспокоят его разрешения.</p>
    <img class="small" src="hide_app_from_list.webp" />
    <img class="small" src="hide_perm_from_list.webp" />

    <hr class="dim-hr" />

    <p id="faq20" class="high-bottom"><b>Почему сканирование приложений занимает так много времени?</b></p>
    <p>Permission Manager X получает много информации о приложениях. Туда входят название приложения, имя пакета, иконка, UID и его состояние                 (фреймворк, системное, пользовательское, заморожено). Для разрешений манифеста и AppOp информация включает имя разрешения, его состояние (предоставлено, отозвано, разрешить, игнорировать, запретить, передний план, по умолчанию), <a href="https://developer.android.com/reference/android/R.attr#protectionLevel">уровень защиты</a> (нормальный, опасный, подпись, разработка, привилегированный, фиксированный, AppOp) и время последнего доступа AppOp. Затем значение каждого разрешения сравнивается с целевым значением и устанавливается индикатор его состояния (красный, зеленый или оранжевый). После сканирования всех разрешений у каждого приложения в общем списке отображается счётчик видимых / всех разрешений манифеста и AppOps и его статус соответствия целевым значениям.</p>
    <p>Вы можете включить <i>Быстрое сканирование</i> в настройках, чтобы отключить сканирование разрешений. Или исключите как можно больше информации во вкладке <i>Фильтры исключений</i> для ускорения процесса сканирования. Скорость также зависит от того, сколько мощности ЦП и какое количество ОЗУ ваше устройство оставляет для приложений. Прошивки, выделяющие больше мощности на пользовательский интерфейс (например, MIUI), работают медленнее. Также ADB обычно медленнее, чем root.</p>

    <hr class="dim-hr" />

    <p id="faq21" class="high-bottom"><b>Есть ли полный список всех разрешений с пояснениями?</b></p>
    <p>Нет полного списка разрешений с описанием, по крайней мере, насколько мне известно. Для некоторых разрешений манифеста доступно краткое описание, которое отображается при нажатии имени разрешения в приложении PMX. Для AppOps в Android нет описания.</p>
    <p>Есть сторонние ресурсы, такие как <a href="https://android.izzysoft.de/applists.php?topic=perms">этот</a> от Izzy. Официальный сайт <a href="https://developer.android.com">разработки Андроид</a> и <a href="https://cs.android.com">исходного кода</a> также являются хорошими источниками для обучения. С каждой новой версией Android добавляются новые разрешения, а некоторые  устаревают. Кроме того, не все разрешения необходимы каждому пользователю.</p>

    <hr class="dim-hr" />

    <p id="faq22" class="high-bottom"><b>Как использовать приложение в рабочем профиле/многопользовательской среде?</b></p>
    <p>Платная версия поддерживает рабочие профили и несколько пользователей. Выберите пользователя из выпадающего меню.</p>
    <img class="small" src="multi_users.webp" />

    <hr class="dim-hr" />

    <p id="faq23" class="high-bottom"><b>Как я могу перевести PMX на мой язык?</b></p>
    <p>Присоединяйтесь к команде переводчиков на <a href="https://crowdin.com/project/pmx">Crowdin</a>. Сообщите мне, какой язык вам интересен, и я добавлю его в проект.</p>
    <p>Основные переводчики будут отмечены добавлением их имен в приложение в разделе <b> О программе </b>.</p>

    <hr class="dim-hr" />

    <p id="faq30" class="high-bottom"><b>Вы собираетесь добавить поддержку Shizuku в PMX?</b></p>
    <p>Нет. В настоящее время это не планируется.</p>

    <hr class="dim-hr" />

    <p id="faq24" class="high-bottom"><b>Сравнение PMX с XPrivacyLua. Могут ли они заменить друг друга?</b></p>
    <p>PMX предназначен не для замены, а для совместимости с XPrivacyLua. Они имеют различные цели.</p>
    <p>XPrivacyLua взламывает стандартные функции Android, подключаясь к внутренним API, используя Xposed, который заменяет некоторые библиотеки Android взломанными. Таким образом, мы получаем дополнительные функции, такие как отправка поддельных данных в приложения и уведомления о событиях, связанных с разрешениями, о которых мы не можем узнать никакими другими обычными способами.</p>
    <p>В отличии от XPrivacyLua приложение PMX не предназначено для использования в качестве фреймворка. Оно обеспечивает удобный доступ к нескольким привилегированным API, которые не могут использовать обычные приложения. Это ни в коем случае не взлом стандартных функций Android. Большинство задач, которые выполняет PMX, также можно выполнить из командной строки, за исключением некоторых, таких как изменение разрешений System-Fixed.</p>
    <p>Наличие root и Xposed являются двумя строгими требованиями к использованию XPrivacyLua. PMX не требует ни того, ни другого, по большей части. Оба варианта ( root и Xposed) недоступны для многих устройств, или многие пользователи не рассматривают их как вариант из-за технических трудностей, аннулирования гарантии, сбоя SafetyNet и других проблем.</p>
    <p>Вот связанная с <a href="https://github.com/mirfatif/PermissionManagerX/issues/9">проблема</a>.</p>

    <hr class="dim-hr" />

    <p id="faq32" class="high-bottom"><b>Может ли PMX автоматически удалять разрешения когда приложение закрыто, как это делает Bouncer?</b></p>
    <p>Да. См. <a href="#perm_watcher">Отслеживание разрешений</a> и <a href="#scheduled_checker">Проверка по расписанию</a>. Но он не использует функцию <b><i>Специальные возможности</i></b> Android для выполнения нажатий / кликов по экрану от имени пользователя (хотя это хорошая функция, не требующая дополнительной настройки). PMX полагается на root или ADB. Таким образом, он может делать гораздо больше (см. <a href="#intro">Что такое PMX?</a>), чем то, что можно сделать с помощью Спец.возможностей.</p>
    <p>Если вы используете ADB, а не root, <b>Отслеживание разрешений</b> может не работать на некоторых устройствах. Пожалуйста, прочитайте примечание, приведенное в начале <a href="#adb_help">Использование PMX с помощью ADB</a>.</p>

    <hr class="dim-hr" />

    <p id="faq35" class="high-bottom"><b>Могу ли я получать уведомления о установке нового приложения?</b></p>
    <p>Да. См. <a href="#perm_watcher">Отслеживание разрешений</a>.</p>
    <p>Начиная с Android 8, фоновые (не работающие) приложения не могут получать уведомления об установке нового приложения. Поэтому мы должны запустить службу переднего плана (с постоянным уведомлением), чтобы получить это уведомление. Или вы можете использовать <a href="#scheduled_checker">проверки по расписанию</a>, для контроля за разрешениями приложений.</p>

    <hr class="dim-hr" />

    <p id="faq38" class="high-bottom"><b>Когда установлено новое приложение, может ли PMX отключить его разрешения по умолчанию?</b></p>
    <p>Да. Но отключать нечего. Все отключаемые разрешения манифеста уже отключены и остаются такими, если пользователь не предоставит их. Что касается AppOps, многие из них не появляются до тех пор, пока хотя бы один раз не будут использованы приложением, например VIBRATION и READ_CLIPBOARD. У многих других (например, READ_CONTACTS) соответствующие разрешения манифеста уже удалены, как указано. Таким образом, во время установки приложения невозможно предсказать, какие AppOps следует удалить.</p>
    <p>Но при установке нового приложения отображается уведомление (при использовании функции <a href="#perm_watcher">Отслеживание разрешений</a>), поэтому пользователь может устанавливать разрешения одно за другим или применить профиль (функция, которая появится в ближайшее время).</p>

    <hr class="dim-hr" />

    <p id="faq25" class="high-bottom"><b>Почему PMX требует разрешение INTERNET?</b></p>
    <p>Как четко указано в описании приложения разрешение <code>android.permission.INTERNET</code> требуется для использования ADB по сети. Единственные внешние соединения - проверка обновлений (которую можно отключить в настройках) и получение содержимого справки (эта веб-страница). Pro версия также требует подключения к Интернету для проверки лицензии.</p>

    <hr class="dim-hr" />

    <p id="faq26" class="high-bottom"><b>Насколько PMX безопасен для конфиденциальности?</b></p>
    <p>Мы не интересуемся ни вами, ни вашим устройством. PMX является приложением с открытым кодом. Вы можете просмотреть исходный код на Github. От конечного пользователя ничего не скрывается. Мы верим в то, что наши пользователи обучены и хорошо осведомлены о том, почему они используют PMX. Мы уважаем вашу конфиденциальность, поэтому никакие данные не собираются, даже логи сбоев. Вы также можете посмотреть нашу <a href="https://mirfatif.github.io/PermissionManagerX/privacy_policy.html">Политику конфиденциальности</a>.</p>

    <hr class="dim-hr" />

    <p id="faq27" class="high-bottom"><b>Шпионит ли PMX за мной, используя ADB по сети?</b></p>
    <p>Нет.</p>
    <p>PMX обращается к процессу <code>adbd</code> через localhost (<code>127.0.0.1</code>). Но невозможно запустить прослушивание <code>adbd</code> только на localhsot, а не на других сетевых интерфейсах (потому что ADB предназначен для внешнего использования с ПК). Вы, конечно, можете остановить прослушивание <code>adbd</code> с внешних IP-адресов, если сможете. PMX по-прежнему будет работать без внешнего доступа к порту.</p>
    <p>Также вы можете изменить порт <code>5555</code> на любой номер в <b>Расширенных настройках</b>. Это не жестко запрограммировано.</p>
    <p>Начиная с Android 4.2, ADB должен быть защищен с помощью <b>аутентификации с ключом RSA</b> (один из самых надежных механизмов аутентификации). Таким образом, даже если устройство доступно из Интернета (что очень <a href="https://android.stackexchange.com/a/205807/218526">маловероятно</a>), никто не сможет установить соединение ADB без аутентификации.</p>
    <p>Вы можете проверить эти утверждения любым способом. Мы готовы оказать Вам техническую помощь.</p>

    <hr class="dim-hr" />

    <p id="faq28" class="high-bottom"><b>PMX злоупотребляет root правами, для сбора моих данных?</b></p>
    <p>Мы верим в принцип <a href="https://en.wikipedia.org/wiki/Principle_of_least_privilege">минимальных привилегий</a>. Но из-за ограниченного характера операционной системы Android PMX не может работать без высоких привилегий. Что мы можем предложить, так это то, что если вы технически подкованный человек, мы можем научить вас, как затруднить подключение приложений к Интернету, даже с root правами.</p>

    <hr class="dim-hr" />

    <p id="faq29" class="high-bottom"><b>Я считаю, что PMX бесполезен. Зачем было создано это приложение?</b></p>
    <p>Вы правы. PMX не для всех (и именно поэтому приложение долгие годы не дорабатывалось и не выпускалось для широкой публики, потому что мы знали, что у нас очень небольшая аудитория). Оно только для некоторых технически подкованных людей, которые тщательно заботятся о своей конфиденциальности и контроле над устройствами. Большинство пользователей телефонов находится в руках своих OEMs и разработчиков приложений. Им не известно о том, что делается с ними и их данными. И это замечательно.</p>

    <hr>

    <h2 id="download">Загрузки / Скриншоты</h2>
    <p>Пожалуйста, посетите Github <a href="https://mirfatif.github.io/PermissionManagerX">README</a>.</p>

    <hr>

    <h2 id="contact-us">У Вас есть еще вопросы?</h2>
    <p>Пожалуйста, <a href="https://mirfatif.github.io/PermissionManagerX/#want-to-reach-us">свяжитесь с нами</a> по электронной почте или в Telegram.</p>

</body>

</html>